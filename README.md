# ApiLoggingGovern
api接口日志治理


## [日志痛点]
* 客户反馈系统又不好使了，层层反馈，程序员才知道系统又崩了···
* 程序员开始排查，发现全是ERROR日志，大海捞针，排查难，定位难，故障持续时间长，恢复慢
* 事后复盘，灵魂拷问：有报ERROR吗？有；有告警嘛？有；那为啥没有第一时间发现呢？日志太多了，告警太多了，被淹没了，关注不到···

## [治理目的]
* 记录用户操作的行为日志
* 方便快速定位问题
* 追踪程序执行的过程
* 追踪数据的变化
* 数据统计和性能分析
* 采集运行环境数据

## [治理价值]
* 做好系统稳定性的一个很好的切入点
* 帮助我们了解系统在线上的一个状态，存在的问题，还能通过定位问题，了解相关的系统业务
* 通过对ERROR日志的治理，减少不必要的告警，提升告警的敏感度
* 提升测试在开发团队的影响力
* 推动告警配置的完善
* 推动逻辑优化、告警级别调整、依赖方的问题、环境问题、历史脏数据问题、上下游发布导致、接口超时、索引问题、数据库问题、定时任务问题
![](https://github.com/pwcs/ApiLoggingGovern/blob/main/pwcs.png)  

## [治理要点]
- [x] 日志的可读性
- [x] 日志的性能
- [x] 日志的时效性
- [x] 日志的级别分级结构化存储
- [x] 日志的内容（打印错误日志内容的基本原则：完整、具体、直接、格式规范、关键字） 

## [开发环境]
* Net5.0
* Visual Studio 2019 
* Error日志默认写入Oracle表,使用前需要根据OracleCreateTableSQL文件创建表，Program.cs中更改数据库连接串(偷懒，数据库连接串未加密)

## [治理功能点]
- [x] 健康检查
- [x] 日志告警级别分别存储
- [x] Error级别日志结构数据持久化
- [x] 敏感数据日志脱敏
 
 